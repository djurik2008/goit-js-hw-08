{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,cAAc,kBAEtCF,EAAOG,iBAAiB,QAAQL,EAAAM,UAKhC,SAAqBC,GACjBA,EAAEC,iBACF,MAAMC,EAAUP,EAAOQ,SAASC,MAC1BC,EAAYV,EAAOQ,SAASG,QAE5BC,EAAW,CACbH,MAAOF,EAAQM,MACfF,QAASD,EAAUG,OAEvBC,aAAaC,QAXO,sBAWkBC,KAAKC,UAAUL,G,GAdD,MACxDZ,EAAOG,iBAAiB,UAgBxB,SAAsBE,GAClBA,EAAEC,iBACF,MAAMM,EAAW,IAAIM,SAASb,EAAEc,eAE1BC,EAAc,GAEpBR,EAASS,SAAQ,CAACR,EAAOS,KACvBF,EAAYE,GAAQT,CAAK,IAE3BU,QAAQC,IAAIJ,GAEdf,EAAEc,cAAcM,O,IAGlB,MAAMC,EAAiBC,IACrB,IACE,OAAOX,KAAKY,MAAMd,aAAae,QAAQF,G,CACvC,MAAOG,GACP,OAAOhB,aAAae,QAAQF,E,GAIO,OAAnCD,EApCoB,yBAqCtB1B,EAAOQ,SAASC,MAAMI,MAAQa,EArCR,uBAqCuCjB,MAC7DT,EAAOQ,SAASG,QAAQE,MAAQa,EAtCV,uBAsCyCf","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\nconst formEl = document.querySelector(\".feedback-form\")\n\nformEl.addEventListener('input',_.throttle(onFormInput, 500))\nformEl.addEventListener('submit', onFormSubmit)\n\nconst lokalStorageKey = \"feedback-form-state\"\n\nfunction onFormInput(e) {\n    e.preventDefault()\n    const inputEl = formEl.elements.email\n    const messageEl = formEl.elements.message\n\n    const formData = {\n        email: inputEl.value,\n        message: messageEl.value\n    }\n    localStorage.setItem(lokalStorageKey, JSON.stringify(formData))\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault()\n    const formData = new FormData(e.currentTarget);\n\n    const formDataObj = {};\n\n    formData.forEach((value, name) => {\n      formDataObj[name] = value;\n    });\n    console.log(formDataObj);\n  \n  e.currentTarget.reset();\n}\n\nconst loadSavedData = (key) => {\n  try {\n    return JSON.parse(localStorage.getItem(key))\n  } catch (error) {\n    return localStorage.getItem(key)\n  }\n}\n\nif (loadSavedData(lokalStorageKey) !== null) {\n  formEl.elements.email.value = loadSavedData(lokalStorageKey).email\n  formEl.elements.message.value = loadSavedData(lokalStorageKey).message\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","throttle","e","preventDefault","inputEl","elements","email","messageEl","message","formData","value","localStorage","setItem","JSON","stringify","FormData","currentTarget","formDataObj","forEach","name","console","log","reset","$945622fd0f572e60$var$loadSavedData","key","parse","getItem","error"],"version":3,"file":"03-feedback.35f396db.js.map"}